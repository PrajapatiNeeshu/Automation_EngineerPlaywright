import type { Page, Locator as PlaywrightLocator } from 'playwright';
import type { WebDriver, WebElement } from 'selenium-webdriver';
import { WebAutomationAdapter } from './WebAutomationAdapter';
import { AIService } from './AIService';
import { SelectorCache } from './SelectorCache';
import { AutoHealConfiguration, ExecutionStrategy } from '../config/AutoHealConfiguration';
import { AutoHealReporter } from '../reporting/AutoHealReporter';
/**
 * Main AutoHeal Locator facade for JavaScript/TypeScript
 *
 * Provides AI-powered self-healing element location for both
 * Playwright and Selenium WebDriver
 */
export declare class AutoHealLocator {
    private adapter;
    private aiService;
    private cache;
    private config;
    private reporter;
    constructor(adapter: WebAutomationAdapter, aiService: AIService, cache: SelectorCache, config: AutoHealConfiguration);
    /**
     * Create a new AutoHealLocator builder
     */
    static builder(): AutoHealLocatorBuilder;
    /**
     * Find element with Selenium WebDriver and auto-healing
     *
     * @param selector CSS selector, XPath, ID, or other selector string
     * @param description Human-readable description for AI healing
     * @returns WebElement
     */
    findElement(selector: string, description: string): Promise<WebElement>;
    /**
     * Find multiple elements with Selenium WebDriver and auto-healing
     */
    findElements(selector: string, description: string): Promise<WebElement[]>;
    /**
     * Find element with Playwright and auto-healing
     *
     * @param page Playwright Page object
     * @param locatorOrSelector Playwright Locator object OR CSS selector string
     * @param description Human-readable description for AI healing
     * @returns Playwright Locator
     */
    find(page: Page, locatorOrSelector: PlaywrightLocator | string, description: string): Promise<PlaywrightLocator>;
    private locateElementWithHealing;
    private getElementDescription;
    /**
     * Extract selector string from Playwright Locator object
     * Returns in JavaScript API format (e.g., getByTestId('login'))
     */
    private extractSelectorFromLocator;
    /**
     * Convert Playwright selector engine format to JavaScript API syntax
     * Examples:
     * - data-testid=login -> getByTestId('login')
     * - role=button[name="Submit"] -> getByRole('button', { name: 'Submit' })
     * - text=Welcome -> getByText('Welcome')
     */
    private convertToJavaScriptFormat;
    /**
     * Convert Playwright JavaScript API syntax to selector engine format
     * Examples:
     * - getByTestId('login') -> data-testid=login
     * - getByRole('button', { name: 'Submit' }) -> role=button[name="Submit"]
     * - getByText('Welcome') -> text=Welcome
     * - getByPlaceholder('Enter name') -> placeholder="Enter name"
     * - locator('#login-button') -> #login-button
     */
    private convertToSelectorEngineFormat;
    /**
     * Get element description from Playwright Locator
     */
    private getPlaywrightElementDescription;
    /**
     * Perform AI healing with automatic fallback from DOM to Visual
     */
    private performAIHealingWithTokens;
    /**
     * Try DOM analysis first, fallback to Visual if DOM selector doesn't work
     */
    private tryDOMThenVisual;
    /**
     * Try Visual analysis first, fallback to DOM if Visual selector doesn't work
     */
    private tryVisualThenDOM;
    private disambiguate;
    private cacheSuccess;
    private generateCacheKey;
    private getLastSuccessfulSelector;
    /**
     * Clear all cached selectors
     */
    clearCache(): void;
    /**
     * Get cache metrics
     */
    getCacheMetrics(): import("./SelectorCache").CacheMetrics;
    /**
     * Shutdown and cleanup resources, generate reports
     */
    shutdown(outputDir?: string): void;
    /**
     * Get the reporter instance for manual report generation
     */
    getReporter(): AutoHealReporter;
}
/**
 * Builder for AutoHealLocator
 */
export declare class AutoHealLocatorBuilder {
    private adapter?;
    private aiService?;
    private cache?;
    private customConfig?;
    /**
     * Use Playwright Page
     */
    withPlaywrightPage(page: Page): this;
    /**
     * Use Selenium WebDriver
     */
    withSeleniumDriver(driver: WebDriver): this;
    /**
     * Use custom WebAutomationAdapter
     */
    withAdapter(adapter: WebAutomationAdapter): this;
    /**
     * Use custom AI service
     */
    withAIService(aiService: AIService): this;
    /**
     * Use custom cache
     */
    withCache(cache: SelectorCache): this;
    /**
     * Set AI provider by name
     * @param provider - Provider name (e.g., 'groq', 'gemini', 'openai')
     * @param apiKey - Optional API key (will use environment variable if not provided)
     * @param model - Optional model name (will use default for provider if not specified)
     */
    withAIProvider(provider: string, apiKey?: string, model?: string): this;
    /**
     * Get default model for a provider (helper for withAIProvider)
     */
    private getDefaultModelForProvider;
    /**
     * Set execution strategy
     */
    withStrategy(strategy: ExecutionStrategy): this;
    /**
     * Set custom configuration
     */
    withConfiguration(config: Partial<AutoHealConfiguration>): this;
    /**
     * Build the AutoHealLocator instance
     */
    build(): AutoHealLocator;
    private createDefaultAIService;
    private getDefaultModel;
    private createDefaultCache;
}
//# sourceMappingURL=AutoHealLocator.d.ts.map